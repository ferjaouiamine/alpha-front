{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{PlusOutlined}from'@ant-design/icons';import Grid from\"@material-ui/core/Grid\";import AddBox from\"@material-ui/icons/AddBox\";import ArrowDownward from\"@material-ui/icons/ArrowDownward\";import Check from\"@material-ui/icons/Check\";import ChevronLeft from\"@material-ui/icons/ChevronLeft\";import ChevronRight from\"@material-ui/icons/ChevronRight\";import Clear from\"@material-ui/icons/Clear\";import DeleteOutline from\"@material-ui/icons/DeleteOutline\";import Edit from\"@material-ui/icons/Edit\";import FilterList from\"@material-ui/icons/FilterList\";import FirstPage from\"@material-ui/icons/FirstPage\";import LastPage from\"@material-ui/icons/LastPage\";import Remove from\"@material-ui/icons/Remove\";import SaveAlt from\"@material-ui/icons/SaveAlt\";import Search from\"@material-ui/icons/Search\";import ViewColumn from\"@material-ui/icons/ViewColumn\";import Alert from\"@material-ui/lab/Alert\";import{Button}from'antd';import axios from\"axios\";import MaterialTable from\"material-table\";import React,{forwardRef,useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import\"../css/userDataTable.css\";var tableIcons={Add:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(AddBox,Object.assign({},props,{ref:ref}));}),Check:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Check,Object.assign({},props,{ref:ref}));}),Clear:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Clear,Object.assign({},props,{ref:ref}));}),Delete:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(DeleteOutline,Object.assign({},props,{ref:ref}));}),DetailPanel:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronRight,Object.assign({},props,{ref:ref}));}),Edit:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Edit,Object.assign({},props,{ref:ref}));}),Export:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(SaveAlt,Object.assign({},props,{ref:ref}));}),Filter:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(FilterList,Object.assign({},props,{ref:ref}));}),FirstPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(FirstPage,Object.assign({},props,{ref:ref}));}),LastPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(LastPage,Object.assign({},props,{ref:ref}));}),NextPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronRight,Object.assign({},props,{ref:ref}));}),PreviousPage:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ChevronLeft,Object.assign({},props,{ref:ref}));}),ResetSearch:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Clear,Object.assign({},props,{ref:ref}));}),Search:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Search,Object.assign({},props,{ref:ref}));}),SortArrow:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ArrowDownward,Object.assign({},props,{ref:ref}));}),ThirdStateCheck:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(Remove,Object.assign({},props,{ref:ref}));}),ViewColumn:forwardRef(function(props,ref){return/*#__PURE__*/React.createElement(ViewColumn,Object.assign({},props,{ref:ref}));})};var api=axios.create({baseURL:\"/api/\"});function GestionEleves(){var columns=[{title:\"id\",field:\"id\",hidden:true},{title:\"Matière\",field:\"courseName\"},/*{\r\n      \r\n      title: \"matiere\",\r\n      render: (rowData) => (\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            \r\n            onChange={handleChange}\r\n            \r\n            defaultValue={rowData.courseName}\r\n          >\r\n            <option aria-label=\"None\" value=\"\" />\r\n            <option value=\"math\">Math</option>\r\n            <option value=\"Physique\">Physique & Chimie</option>\r\n            <option value=\"Base de donnée\">Base de donnée</option>\r\n            <option value=\"algo\">Algorithme</option>\r\n            <option value=\"technique\">Technique</option>\r\n            <option value=\"arabic\">Arabe</option>\r\n            <option value=\"français\">Français</option>\r\n            <option value=\"anglais\">English</option>\r\n            <option value=\"science\">Science</option>\r\n            <option value=\"mecanique\">Mecanique</option>\r\n            <option value=\"eco\">économie</option>\r\n            <option value=\"gestion\">Gestion</option>\r\n          </Select>\r\n        </FormControl>\r\n      ),\r\n      \r\n    },*/{title:\"Chapitre\",field:\"chapterName\"},{title:\"Description\",field:\"description\"},{title:\"Classe\",field:\"classe\"}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//table data\n//for error handling\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),iserror=_useState4[0],setIserror=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),errorMessages=_useState8[0],setErrorMessages=_useState8[1];var history=useHistory();useEffect(function(){var getCourses=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get(\"/courses\").then(function(res){setData(res.data.data);setLoading(false);}).catch(function(error){console.log(error);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getCourses(){return _ref.apply(this,arguments);};}();getCourses();},[],[errorMessages],[iserror],[data]);var handleRowDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(oldData,resolve){var id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=oldData._id;_context2.next=3;return api.delete(\"/course/\"+oldData._id).then(function(res){var dataDelete=_toConsumableArray(data);var index=oldData.tableData.id;dataDelete.splice(index,1);setData(_toConsumableArray(dataDelete));resolve();}).catch(function(error){setErrorMessages([\"Delete failed! Server error\"]);setIserror(true);resolve();});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleRowDelete(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,xs:3}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",null,iserror&&/*#__PURE__*/React.createElement(Alert,{severity:\"error\"},errorMessages.map(function(msg,i){return/*#__PURE__*/React.createElement(\"div\",{key:i},msg);}))),/*#__PURE__*/React.createElement(MaterialTable,{style:{marginTop:50},title:\"Liste des cours\",isLoading:loading,columns:columns,data:data,icons:tableIcons,localization:{body:{emptyDataSourceMessage:\"Pas d'enregistreent à afficher\",addTooltip:\"Ajouter\",deleteTooltip:\"Supprimer\",editTooltip:\"Editer\",filterRow:{filterTooltip:\"Filtrer\"},editRow:{deleteText:\"Voulez-vous supprimer cette ligne?\",cancelTooltip:\"Annuler\",saveTooltip:\"Enregistrer\"}},grouping:{placeholder:\"Tirer l'entête ...\",groupedBy:\"Grouper par:\"},header:{actions:\"Actions\"},pagination:{labelDisplayedRows:\"{from}-{to} de {count}\",labelRowsSelect:\"lignes\",labelRowsPerPage:\"lignes par page:\",firstAriaLabel:\"Première page\",firstTooltip:\"Première page\",previousAriaLabel:\"Page précédente\",previousTooltip:\"Page précédente\",nextAriaLabel:\"Page suivante\",nextTooltip:\"Page suivante\",lastAriaLabel:\"Dernière page\",lastTooltip:\"Dernière page\"},toolbar:{addRemoveColumns:\"Ajouter ou supprimer des colonnes\",nRowsSelected:\"{0} ligne(s) sélectionée(s)\",showColumnsTitle:\"Voir les colonnes\",showColumnsAriaLabel:\"Voir les colonnes\",exportTitle:\"Exporter\",exportAriaLabel:\"Exporter\",exportName:\"Exporter en CSV\",searchTooltip:\"Chercher\",searchPlaceholder:\"Chercher\"}},editable:{/*onRowUpdate: (newData, oldData) =>\r\n                new Promise((resolve) => {\r\n                  handleRowUpdate(newData, oldData, resolve);\r\n                }),*/onRowDelete:function onRowDelete(oldData){return new Promise(function(resolve){handleRowDelete(oldData,resolve);});}},actions:[{icon:function icon(){return/*#__PURE__*/React.createElement(Edit,null);},tooltip:\"modifier\",onClick:function onClick(event,rowData){history.push({pathname:\"/updateCourse\",state:{rowData:rowData}});}},{icon:function icon(){return/*#__PURE__*/React.createElement(Button,{type:\"primary\",style:{color:\"white\"},shape:\"circle\",icon:/*#__PURE__*/React.createElement(PlusOutlined,null),size:\"large\"});},tooltip:\"Ajouter un cours\",isFreeAction:true,onClick:function onClick(){return history.push(\"/addCourse\");}}]})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:3})));}export default GestionEleves;","map":{"version":3,"sources":["C:/Users/HP I5/alpha-front/src/Components/gestionCours.js"],"names":["PlusOutlined","Grid","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","Alert","Button","axios","MaterialTable","React","forwardRef","useEffect","useState","useHistory","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","api","create","baseURL","GestionEleves","columns","title","field","hidden","data","setData","iserror","setIserror","loading","setLoading","errorMessages","setErrorMessages","history","getCourses","get","then","res","catch","error","console","log","handleRowDelete","oldData","resolve","id","_id","delete","dataDelete","index","tableData","splice","map","msg","i","marginTop","body","emptyDataSourceMessage","addTooltip","deleteTooltip","editTooltip","filterRow","filterTooltip","editRow","deleteText","cancelTooltip","saveTooltip","grouping","placeholder","groupedBy","header","actions","pagination","labelDisplayedRows","labelRowsSelect","labelRowsPerPage","firstAriaLabel","firstTooltip","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","toolbar","addRemoveColumns","nRowsSelected","showColumnsTitle","showColumnsAriaLabel","exportTitle","exportAriaLabel","exportName","searchTooltip","searchPlaceholder","onRowDelete","Promise","icon","tooltip","onClick","event","rowData","push","pathname","state","color","isFreeAction"],"mappings":"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","sourcesContent":["import { PlusOutlined } from '@ant-design/icons';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { Button } from 'antd';\r\nimport axios from \"axios\";\r\nimport MaterialTable from \"material-table\";\r\nimport React, { forwardRef, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../css/userDataTable.css\";\r\n\r\nconst tableIcons = {\r\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n  DetailPanel: forwardRef((props, ref) => (\r\n    <ChevronRight {...props} ref={ref} />\r\n  )),\r\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  PreviousPage: forwardRef((props, ref) => (\r\n    <ChevronLeft {...props} ref={ref} />\r\n  )),\r\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nconst api = axios.create({\r\n  baseURL: `/api/`,\r\n});\r\n\r\nfunction GestionEleves() {\r\n  var columns = [\r\n    { title: \"id\", field: \"id\", hidden: true },\r\n    { title: \"Matière\", field: \"courseName\" },\r\n    /*{\r\n      \r\n      title: \"matiere\",\r\n      render: (rowData) => (\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            \r\n            onChange={handleChange}\r\n            \r\n            defaultValue={rowData.courseName}\r\n          >\r\n            <option aria-label=\"None\" value=\"\" />\r\n            <option value=\"math\">Math</option>\r\n            <option value=\"Physique\">Physique & Chimie</option>\r\n            <option value=\"Base de donnée\">Base de donnée</option>\r\n            <option value=\"algo\">Algorithme</option>\r\n            <option value=\"technique\">Technique</option>\r\n            <option value=\"arabic\">Arabe</option>\r\n            <option value=\"français\">Français</option>\r\n            <option value=\"anglais\">English</option>\r\n            <option value=\"science\">Science</option>\r\n            <option value=\"mecanique\">Mecanique</option>\r\n            <option value=\"eco\">économie</option>\r\n            <option value=\"gestion\">Gestion</option>\r\n          </Select>\r\n        </FormControl>\r\n      ),\r\n      \r\n    },*/\r\n    { title: \"Chapitre\", field: \"chapterName\" },\r\n    { title: \"Description\", field: \"description\" },\r\n    { title: \"Classe\", field: \"classe\" },\r\n  ];\r\n  const [data, setData] = useState([]); //table data\r\n\r\n  //for error handling\r\n  const [iserror, setIserror] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errorMessages, setErrorMessages] = useState([]);\r\n  let history = useHistory();\r\n\r\n  useEffect(\r\n    () => {\r\n      const getCourses = async () => {\r\n        await api\r\n          .get(\"/courses\")\r\n          .then((res) => {\r\n            setData(res.data.data);\r\n            setLoading(false);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      };\r\n      getCourses();\r\n    },\r\n    [],\r\n    [errorMessages],\r\n    [iserror],\r\n    [data]\r\n  );\r\n\r\n  const handleRowDelete = async (oldData, resolve) => {\r\n    let id = oldData._id;\r\n    await api\r\n      .delete(\"/course/\" + oldData._id)\r\n      .then((res) => {\r\n        const dataDelete = [...data];\r\n        const index = oldData.tableData.id;\r\n        dataDelete.splice(index, 1);\r\n        setData([...dataDelete]);\r\n        resolve();\r\n      })\r\n      .catch((error) => {\r\n        setErrorMessages([\"Delete failed! Server error\"]);\r\n        setIserror(true);\r\n        resolve();\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={3}></Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <div>\r\n            {iserror && (\r\n              <Alert severity=\"error\">\r\n                {errorMessages.map((msg, i) => {\r\n                  return <div key={i}>{msg}</div>;\r\n                })}\r\n              </Alert>\r\n            )}\r\n          </div>\r\n\r\n          <MaterialTable\r\n            style={{ marginTop: 50 }}\r\n            title=\"Liste des cours\"\r\n            isLoading={loading}\r\n            columns={columns}\r\n            data={data}\r\n            icons={tableIcons}\r\n            localization={{\r\n              body: {\r\n                emptyDataSourceMessage: \"Pas d'enregistreent à afficher\",\r\n                addTooltip: \"Ajouter\",\r\n                deleteTooltip: \"Supprimer\",\r\n                editTooltip: \"Editer\",\r\n                filterRow: {\r\n                  filterTooltip: \"Filtrer\",\r\n                },\r\n                editRow: {\r\n                  deleteText: \"Voulez-vous supprimer cette ligne?\",\r\n                  cancelTooltip: \"Annuler\",\r\n                  saveTooltip: \"Enregistrer\",\r\n                },\r\n              },\r\n              grouping: {\r\n                placeholder: \"Tirer l'entête ...\",\r\n                groupedBy: \"Grouper par:\",\r\n              },\r\n              header: {\r\n                actions: \"Actions\",\r\n              },\r\n              pagination: {\r\n                labelDisplayedRows: \"{from}-{to} de {count}\",\r\n                labelRowsSelect: \"lignes\",\r\n                labelRowsPerPage: \"lignes par page:\",\r\n                firstAriaLabel: \"Première page\",\r\n                firstTooltip: \"Première page\",\r\n                previousAriaLabel: \"Page précédente\",\r\n                previousTooltip: \"Page précédente\",\r\n                nextAriaLabel: \"Page suivante\",\r\n                nextTooltip: \"Page suivante\",\r\n                lastAriaLabel: \"Dernière page\",\r\n                lastTooltip: \"Dernière page\",\r\n              },\r\n              toolbar: {\r\n                addRemoveColumns: \"Ajouter ou supprimer des colonnes\",\r\n                nRowsSelected: \"{0} ligne(s) sélectionée(s)\",\r\n                showColumnsTitle: \"Voir les colonnes\",\r\n                showColumnsAriaLabel: \"Voir les colonnes\",\r\n                exportTitle: \"Exporter\",\r\n                exportAriaLabel: \"Exporter\",\r\n                exportName: \"Exporter en CSV\",\r\n                searchTooltip: \"Chercher\",\r\n                searchPlaceholder: \"Chercher\",\r\n              },\r\n            }}\r\n            editable={{\r\n              /*onRowUpdate: (newData, oldData) =>\r\n                new Promise((resolve) => {\r\n                  handleRowUpdate(newData, oldData, resolve);\r\n                }),*/\r\n\r\n              onRowDelete: (oldData) =>\r\n                new Promise((resolve) => {\r\n                  handleRowDelete(oldData, resolve);\r\n                }),\r\n            }}\r\n            actions={[\r\n              {\r\n                icon: () => <Edit />,\r\n                tooltip: \"modifier\",\r\n                onClick: (event, rowData) => {\r\n                  history.push({\r\n                    pathname: \"/updateCourse\",\r\n                    state: { rowData: rowData },\r\n                  });\r\n                },\r\n              },\r\n              {\r\n                icon: () => <Button type=\"primary\" style={{color : \"white\"}} shape=\"circle\" icon={<PlusOutlined />} size=\"large\" />,\r\n                tooltip: \"Ajouter un cours\",\r\n                isFreeAction: true,\r\n                onClick: () => history.push(\"/addCourse\"),\r\n              },\r\n            ]}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={3}></Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GestionEleves;\r\n"]},"metadata":{},"sourceType":"module"}