{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Breadcrumb,Collapse}from\"antd\";import Axios from\"axios\";import React,{useEffect,useState}from\"react\";//import PDFViewer from \"pdf-viewer-reactjs\";\nimport{useLocation}from\"react-router-dom\";import Progress from\"./progress\";var CoursePage=function CoursePage(){var location=useLocation();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),coures=_useState2[0],setCoures=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),video=_useState4[0],setVideo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pdf=_useState6[0],setPdf=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var Panel=Collapse.Panel;//let id = location.pathname.substr(12, location.pathname.length);\nvar id=location.state.courseId;console.log(id);var courseContent=function courseContent(){return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"5%\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Breadcrumb,{style:{marginTop:20,justifyContent:\"flexStart\",display:\"flex\"}},/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(Breadcrumb.Item,null,\"Mes cours\")),/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(Breadcrumb.Item,null,\"Chapitre\")),/*#__PURE__*/React.createElement(Breadcrumb.Item,null,/*#__PURE__*/React.createElement(\"h2\",null,coures.chapterName))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:20,boxShadow:\"2px 4px 2px #9E9E9E\"}},/*#__PURE__*/React.createElement(Collapse,{bordered:true,className:\"site-collapse-custom-collapse\",defaultActiveKey:['1']},/*#__PURE__*/React.createElement(Panel,{header:\"Description\",key:\"1\"},/*#__PURE__*/React.createElement(\"h2\",null,coures.description)))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:20,boxShadow:\"2px 4px 2px #9E9E9E\"}},/*#__PURE__*/React.createElement(Collapse,{bordered:true,className:\"site-collapse-custom-collapse\",collapsible:video.length===0?\"disabled\":\"\"},/*#__PURE__*/React.createElement(Panel,{header:\"Liste des videos\"},/*#__PURE__*/React.createElement(Collapse,{accordion:true},video.map(function(v,i){return/*#__PURE__*/React.createElement(Panel,{header:v,key:i+1},/*#__PURE__*/React.createElement(\"video\",{controls:\"controls\",controlsList:\"nodownload\",width:\"100%\",height:\"100%\",src:\"https://alphaskool.tn/uploads/\".concat(v)}));}))))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:40,boxShadow:\"2px 4px 2px #9E9E9E\"}},/*#__PURE__*/React.createElement(Collapse,{bordered:true,className:\"site-collapse-custom-collapse\",collapsible:pdf.length===0?\"disabled\":\"\"},/*#__PURE__*/React.createElement(Panel,{header:\"Lesson Attachments\"},/*#__PURE__*/React.createElement(Collapse,{accordion:true},pdf.map(function(p,i){return/*#__PURE__*/React.createElement(Panel,{header:p,key:i+1},/*#__PURE__*/React.createElement(\"iframe\",{className:\"embed-responsive-item\",width:\"100%\",height:\"600\",src:\"https://alphaskool.tn/uploads/\".concat(p,\"#toolbar=0\")}));})))))));};useEffect(function(){var getCourses=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var coursesRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;coursesRes=Axios.get(\"/api/course/\".concat(id));_context.t0=setPdf;_context.next=5;return coursesRes;case 5:_context.t1=_context.sent.data.data.pdfUrl;(0,_context.t0)(_context.t1);_context.t2=setVideo;_context.next=10;return coursesRes;case 10:_context.t3=_context.sent.data.data.videoUrl;(0,_context.t2)(_context.t3);_context.t4=setCoures;_context.next=15;return coursesRes;case 15:_context.t5=_context.sent.data.data;(0,_context.t4)(_context.t5);setLoading(false);_context.next=25;break;case 20:_context.prev=20;_context.t6=_context[\"catch\"](0);_context.t6&&setError(_context.t6);console.log(error);setLoading(false);case 25:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return function getCourses(){return _ref.apply(this,arguments);};}();getCourses();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(Progress,null):courseContent());};export default CoursePage;","map":{"version":3,"sources":["C:/Users/HP I5/alpha-front/src/Components/coursePage.js"],"names":["Breadcrumb","Collapse","Axios","React","useEffect","useState","useLocation","Progress","CoursePage","location","coures","setCoures","video","setVideo","pdf","setPdf","error","setError","loading","setLoading","Panel","id","state","courseId","console","log","courseContent","marginTop","justifyContent","display","chapterName","boxShadow","description","length","map","v","i","p","getCourses","coursesRes","get","data","pdfUrl","videoUrl"],"mappings":"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","sourcesContent":["import { Breadcrumb, Collapse } from \"antd\";\r\nimport Axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\n//import PDFViewer from \"pdf-viewer-reactjs\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Progress from \"./progress\";\r\n\r\n\r\nconst CoursePage = () => {\r\n  const location = useLocation();\r\n  const [coures, setCoures] = useState({});\r\n  const [video, setVideo] = useState([]);\r\n  const [pdf, setPdf] = useState([]);\r\n  const [error, setError] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { Panel } = Collapse;\r\n\r\n  //let id = location.pathname.substr(12, location.pathname.length);\r\n  let id = location.state.courseId;\r\n\r\n  console.log(id);\r\n  const courseContent = () => {\r\n    return (\r\n      <div style={{ marginTop: \"5%\" }}>\r\n        \r\n        <div>\r\n          <Breadcrumb  style={{ marginTop: 20,justifyContent: \"flexStart\" ,display: \"flex\"}}>\r\n            <h2><Breadcrumb.Item>Mes cours</Breadcrumb.Item></h2>\r\n            <h2><Breadcrumb.Item>Chapitre</Breadcrumb.Item></h2>\r\n            <Breadcrumb.Item><h2>{coures.chapterName}</h2></Breadcrumb.Item>\r\n          </Breadcrumb>\r\n\r\n\r\n          <div style={{ marginTop: 20 ,boxShadow: \"2px 4px 2px #9E9E9E\"}} >\r\n            <Collapse bordered={true} className=\"site-collapse-custom-collapse\" defaultActiveKey={['1']} >\r\n              <Panel header=\"Description\" key=\"1\">\r\n                    <h2>{coures.description}</h2>    \r\n              </Panel>\r\n            </Collapse>\r\n          </div>\r\n\r\n\r\n          <div style={{ marginTop: 20 ,boxShadow: \"2px 4px 2px #9E9E9E\"}}>\r\n            <Collapse bordered={true} className=\"site-collapse-custom-collapse\" collapsible={video.length === 0 ? \"disabled\" : \"\"}>\r\n              <Panel header=\"Liste des videos\">\r\n                <Collapse accordion>\r\n                  {video.map((v, i) => (\r\n                    <Panel header={v} key={i + 1}>\r\n                      <video\r\n                        controls=\"controls\"\r\n                        controlsList=\"nodownload\"\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        src={`https://alphaskool.tn/uploads/${v}`}\r\n                      ></video>\r\n                    </Panel>\r\n                  ))}\r\n                </Collapse>\r\n              </Panel>\r\n            </Collapse>\r\n          </div>\r\n\r\n          <div style={{ marginTop: 40 ,boxShadow: \"2px 4px 2px #9E9E9E\"}}>\r\n            <Collapse bordered={true} className=\"site-collapse-custom-collapse\" collapsible={pdf.length === 0 ? \"disabled\" : \"\"}>\r\n              <Panel header=\"Lesson Attachments\">\r\n                <Collapse accordion>\r\n                  {pdf.map((p, i) => {\r\n                    return (\r\n                      <Panel header={p} key={i + 1}>\r\n                        <iframe\r\n                          className=\"embed-responsive-item\"\r\n                          width=\"100%\"\r\n                          height=\"600\"\r\n\r\n                          src={`https://alphaskool.tn/uploads/${p}#toolbar=0`}\r\n\r\n                        ></iframe>\r\n                      </Panel>\r\n                    );\r\n                  })}\r\n                </Collapse>\r\n              </Panel>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getCourses = async () => {\r\n      try {\r\n        const coursesRes = Axios.get(`/api/course/${id}`);\r\n        setPdf((await coursesRes).data.data.pdfUrl);\r\n        setVideo((await coursesRes).data.data.videoUrl);\r\n        setCoures((await coursesRes).data.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        err && setError(err);\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getCourses();\r\n  }, []);\r\n\r\n  return <>{loading ? <Progress /> : courseContent()}</>;\r\n};\r\n\r\nexport default CoursePage;\r\n"]},"metadata":{},"sourceType":"module"}