{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP I5\\\\alpha-front\\\\src\\\\Components\\\\updateCourse.js\";\nimport { FileAddOutlined } from \"@ant-design/icons\";\nimport { Alert, Button, Form, Input, message, Select, Upload } from \"antd\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport \"../css/userDataTable.css\";\nconst {\n  Option\n} = Select;\n\nconst UpdateCourse = props => {\n  axios.create({\n    baseURL: `http://localhost:3001/api/`\n  });\n  const location = useLocation();\n  let history = useHistory();\n\n  const submit = async e => {\n    e.preventDefault();\n    let pdfUrl = [...new Set(pdf)];\n    let videoUrl = [...new Set(video)];\n\n    try {\n      const newCourse = {\n        courseName,\n        chapterName,\n        description,\n        classe,\n        section,\n        svgUrl,\n        pdfUrl,\n        videoUrl\n      };\n      console.log(newCourse);\n\n      if (description === undefined || courseName === undefined || chapterName === undefined || classe === undefined) {\n        return setInvalidForm(true);\n      }\n\n      const course = await axios.put(`http://localhost:3001/api/course/${location.state.rowData._id}`, newCourse);\n      setCourse(course);\n      history.push(\"/gestioncours\");\n    } catch (err) {\n      console.log(err);\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  const {\n    TextArea\n  } = Input;\n  const [data, setData] = useState([]); //table data\n\n  const [error, setError] = useState();\n  const [invalidForm, setInvalidForm] = useState(false);\n  const [course, setCourse] = useState({});\n  const [courseName, setCourseName] = useState(location.state.rowData.courseName);\n  const [chapterName, setChapterName] = useState(location.state.rowData.chapterName);\n  const [description, setDescription] = useState(location.state.rowData.description);\n  const [section] = useState();\n  const [classe, setClasse] = useState(location.state.rowData.classe);\n  const [pdf, setPdf] = useState([]);\n  const [video, setVideo] = useState([]);\n  const [fileList, updateFileList] = useState([]);\n  const [svgUrl, setSvgUrl] = useState();\n  let defaultfiles = [];\n  /*useEffect(\r\n    () => {\r\n      const getCourse = async () => {\r\n        await api\r\n          .get(`/course/${location.state.rowData._id}`)\r\n          .then((res) => {\r\n            setDataToUpdate(res.data.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      };\r\n      getCourse();\r\n    },\r\n    [location],\r\n    [dataToUpdate]\r\n  );\r\n  */\n\n  useEffect(() => {\n    const pdfFiles = () => {\n      location.state.rowData.pdfUrl.map(file => {\n        defaultfiles.push({\n          name: file,\n          url: `/api/${file}`\n        });\n        return defaultfiles;\n      });\n    };\n\n    const videoFiles = () => {\n      location.state.rowData.videoUrl.map(file => {\n        defaultfiles.push({\n          name: file,\n          url: `/api/${file}`\n        });\n        return defaultfiles;\n      });\n    };\n\n    pdfFiles();\n    videoFiles(); //allFiles = defaultfiles.concat(defaultFilesVideo);\n  }, []);\n  const addFiles = {\n    name: \"file\",\n    multiple: true,\n    action: \"/api/upload/uploadFile\",\n    beforeUpload: file => {\n      if (file.type !== \"application/pdf\" && file.type !== \"video/mp4\") {\n        return message.error(`${file.name} type de fichier non autorisé.`);\n      }\n\n      return file.type;\n    },\n\n    onChange(info) {\n      const {\n        status\n      } = info.file;\n\n      if (status !== \"uploading\") {\n        console.log(info.file, info.fileList);\n      }\n\n      if (status === \"done\") {\n        message.success(`${info.file.name} fichier téléchargé avec succès.`);\n      } else if (status === \"error\") {\n        message.error(`${info.file.name} échec du téléchargement du fichier.`);\n      }\n    },\n\n    onRemove: file => {\n      if (file.name.indexOf(\".pdf\") > -1) {\n        const index = location.state.rowData.pdfUrl.indexOf(file);\n        console.log(index);\n        const newFileList = location.state.rowData.pdfUrl.slice();\n        location.state.rowData.pdfUrl.splice(index, 1);\n        console.log(newFileList.url);\n        setPdf(location.state.rowData.pdfUrl);\n        let pdfUrl = [...new Set(pdf)];\n        setVideo(location.state.rowData.videoUrl);\n        let videoUrl = [...new Set(video)];\n        axios.put(`http://localhost:3001/api/course/${location.state.rowData._id}`, pdfUrl, videoUrl);\n        return {\n          defaultfiles: newFileList\n        };\n      } else {\n        const index = location.state.rowData.videoUrl.indexOf(file);\n        console.log(index);\n        const newFileList = location.state.rowData.videoUrl.slice();\n        location.state.rowData.videoUrl.splice(index, 1);\n        console.log(newFileList.url);\n        setVideo(location.state.rowData.videoUrl);\n        let videoUrl = [...new Set(video)];\n        let pdfUrl = [...new Set(pdf)];\n        setPdf(location.state.rowData.pdfUrl);\n        axios.put(`http://localhost:3001/api/course/${location.state.rowData._id}`, videoUrl, pdfUrl);\n        return {\n          defaultfiles: newFileList\n        };\n      }\n    },\n    onChange: info => {\n      //file.status is empty when beforeUpload return false\n      updateFileList(info.fileList.filter(file => !!file.status));\n      console.log(defaultfiles);\n      if (info.file.type === \"application/pdf\") setPdf(fileList => [...fileList, info.file.name.toLowerCase().split(\" \").join(\"-\")]);else if (info.file.type === \"video/mp4\") setVideo(fileList => [...fileList, info.file.name.toLowerCase().split(\" \").join(\"-\")]);\n    },\n    defaultFileList: defaultfiles\n    /*[\r\n    {\r\n      name: location.state.rowData.pdfUrl[0],\r\n      url: `https://alpha-school.herokuapp.com/uploads/${location.state.rowData.pdfUrl[0]}`,\r\n    },\r\n    \r\n    {\r\n      uid: \"2\",\r\n      name: location.state.rowData.videoUrl[0],\r\n      status: \"done\",\r\n      url: `https://alpha-school.herokuapp.com/uploads/${location.state.rowData.videoUrl[0]}`,\r\n    },\r\n    ],*/\n\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 4,\n      span: 16\n    }\n  };\n\n  function handleChangeCourse(value) {\n    console.log(`selected ${value}`);\n    setChapterName(value[0]);\n  }\n\n  function handleChangeClasse(value) {\n    console.log(`selected ${value}`);\n    setClasse(value);\n  }\n\n  function handleChangeCourseName(value) {\n    console.log(`selected ${value}`);\n    setCourseName(value);\n\n    switch (value) {\n      case \"Physique\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/physique.svg\");\n        break;\n\n      case \"Chimie\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/chimie.svg\");\n        break;\n\n      case \"Base de donnée\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/bd.svg\");\n        break;\n\n      case \"algo\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/programmation.svg\");\n        break;\n\n      case \"arabe\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/arabe.svg\");\n        break;\n\n      case \"français\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/francais.svg\");\n        break;\n\n      case \"anglais\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/english.svg\");\n        break;\n\n      case \"math\":\n        setSvgUrl(\"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/maths.svg\");\n        break;\n    }\n  }\n\n  const layout = {\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 14\n    }\n  };\n  const chapitres = [];\n  data.map(chapitre => {\n    chapitres.push( /*#__PURE__*/React.createElement(Option, {\n      key: chapitre.chapterName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 7\n      }\n    }, chapitre.chapterName));\n  });\n\n  const onClose = e => {\n    setInvalidForm(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 5\n    }\n  }, invalidForm && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      marginTop: 20\n    },\n    message: \"Formulaire invalide\",\n    description: \"Veuillez remplir tous les champs.\",\n    type: \"error\",\n    showIcon: true,\n    closable: true,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form, Object.assign({}, layout, {\n    onSubmit: submit,\n    noValidate: true,\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 25\n    },\n    size: \"large\",\n    layout: \"vertical\",\n    style: {\n      marginTop: 100\n    },\n    initialValues: {\n      remember: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Mati\\xE8re :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    onChange: handleChangeCourseName,\n    defaultValue: location.state.rowData.courseName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"Physique\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, \"Physique\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"Chimie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 11\n    }\n  }, \"Chimie\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Classe :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    onChange: handleChangeClasse,\n    defaultValue: location.state.rowData.classe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 11\n    }\n  }, \"1 \\xE8re Secondaire\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"2\\xE9conomie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 11\n    }\n  }, \"2 \\xE8me \\xE9conomie et serivce\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"2Informatique\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 11\n    }\n  }, \"2 \\xE8me Informatique\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"2Science Exp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 11\n    }\n  }, \"2 \\xE8me Scientifique \"), /*#__PURE__*/React.createElement(Option, {\n    value: \"3Informatique\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 11\n    }\n  }, \"3 \\xE8me Informatique\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"3Math\\xE9matiques\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 11\n    }\n  }, \"3 \\xE8me Math\\xE9matiques\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"3Science Exp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }, \"3 \\xE8me Science Exp\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"3Techniques\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, \"3 \\xE8me Techniques\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"4\\xE9conomie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, \"Bac \\xE9conomie\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"4Informatique\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  }, \"Bac Informatique\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"4Lettre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  }, \"Bac Lettre\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"4math\\xE9matiques\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 11\n    }\n  }, \"Bac Math\\xE9matiques\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"4Science Exp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 11\n    }\n  }, \"Bac Science Exp\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Chapitre :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    mode: \"tags\",\n    placeholder: \"Chapitre\",\n    onChange: handleChangeCourse,\n    defaultValue: location.state.rowData.chapterName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 9\n    }\n  }, chapitres)), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Description :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    rows: 4,\n    placeholder: \"description\",\n    defaultValue: location.state.rowData.description,\n    onChange: e => setDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Modifier un fichier :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Upload, Object.assign({}, addFiles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    icon: /*#__PURE__*/React.createElement(FileAddOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 25\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }, \"Ajouter un fichier\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Modifier :\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    htmlType: \"submit\",\n    type: \"primary\",\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 9\n    }\n  }, \"Modifier\"))));\n};\n\nexport default UpdateCourse;","map":{"version":3,"sources":["C:/Users/HP I5/alpha-front/src/Components/updateCourse.js"],"names":["FileAddOutlined","Alert","Button","Form","Input","message","Select","Upload","axios","React","useEffect","useState","useHistory","useLocation","Option","UpdateCourse","props","create","baseURL","location","history","submit","e","preventDefault","pdfUrl","Set","pdf","videoUrl","video","newCourse","courseName","chapterName","description","classe","section","svgUrl","console","log","undefined","setInvalidForm","course","put","state","rowData","_id","setCourse","push","err","response","data","msg","setError","TextArea","setData","error","invalidForm","setCourseName","setChapterName","setDescription","setClasse","setPdf","setVideo","fileList","updateFileList","setSvgUrl","defaultfiles","pdfFiles","map","file","name","url","videoFiles","addFiles","multiple","action","beforeUpload","type","onChange","info","status","success","onRemove","indexOf","index","newFileList","slice","splice","filter","toLowerCase","split","join","defaultFileList","tailLayout","wrapperCol","offset","span","handleChangeCourse","value","handleChangeClasse","handleChangeCourseName","layout","labelCol","chapitres","chapitre","onClose","marginTop","remember","target"],"mappings":"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","sourcesContent":["import { FileAddOutlined } from \"@ant-design/icons\";\r\nimport { Alert, Button, Form, Input, message, Select, Upload } from \"antd\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport \"../css/userDataTable.css\";\r\n\r\nconst { Option } = Select;\r\nconst UpdateCourse = (props) => {\r\n  axios.create({\r\n    baseURL: `http://localhost:3001/api/`,\r\n  });\r\n\r\n  const location = useLocation();\r\n\r\n  let history = useHistory();\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    let pdfUrl = [...new Set(pdf)];\r\n    let videoUrl = [...new Set(video)];\r\n    try {\r\n      const newCourse = {\r\n        courseName,\r\n        chapterName,\r\n        description,\r\n        classe,\r\n        section,\r\n        svgUrl,\r\n        pdfUrl,\r\n        videoUrl,\r\n      };\r\n      console.log(newCourse)\r\n      \r\n      if (description===undefined ||courseName===undefined ||chapterName===undefined ||classe===undefined ){\r\n        return setInvalidForm(true)\r\n      } \r\n      const course = await axios.put(\r\n        `http://localhost:3001/api/course/${location.state.rowData._id}`,\r\n        newCourse\r\n      );\r\n      setCourse(course);\r\n      history.push(\"/gestioncours\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      err.response.data.msg && setError(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const { TextArea } = Input;\r\n  const [data, setData] = useState([]); //table data\r\n  const [error, setError] = useState();\r\n  const [invalidForm, setInvalidForm] = useState(false);\r\n  const [course, setCourse] = useState({});\r\n  const [courseName, setCourseName] = useState(location.state.rowData.courseName);\r\n  const [chapterName, setChapterName] = useState(location.state.rowData.chapterName);\r\n  const [description, setDescription] = useState(location.state.rowData.description);\r\n  const [section] = useState();\r\n  const [classe, setClasse] = useState(location.state.rowData.classe);\r\n  const [pdf, setPdf] = useState([]);\r\n  const [video, setVideo] = useState([]);\r\n\r\n  const [fileList, updateFileList] = useState([]);\r\n  const [svgUrl ,setSvgUrl] = useState();\r\n  \r\n  let defaultfiles = [];\r\n  /*useEffect(\r\n    () => {\r\n      const getCourse = async () => {\r\n        await api\r\n          .get(`/course/${location.state.rowData._id}`)\r\n          .then((res) => {\r\n            setDataToUpdate(res.data.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      };\r\n      getCourse();\r\n    },\r\n    [location],\r\n    [dataToUpdate]\r\n  );\r\n*/\r\n\r\n  useEffect(() => {\r\n    const pdfFiles = () => {\r\n      location.state.rowData.pdfUrl.map((file) => {\r\n        defaultfiles.push({\r\n          name: file,\r\n          url: `/api/${file}`,\r\n        });\r\n        return defaultfiles;\r\n      });\r\n    };\r\n    const videoFiles = () => {\r\n      location.state.rowData.videoUrl.map((file) => {\r\n        defaultfiles.push({\r\n          name: file,\r\n          url: `/api/${file}`,\r\n        });\r\n        return defaultfiles;\r\n      });\r\n    };\r\n    pdfFiles();\r\n    videoFiles();\r\n    //allFiles = defaultfiles.concat(defaultFilesVideo);\r\n  }, []);\r\n\r\n  const addFiles = {\r\n    name: \"file\",\r\n    multiple: true,\r\n    action: \"/api/upload/uploadFile\",\r\n    beforeUpload: (file) => {\r\n      if (file.type !== \"application/pdf\" && file.type !== \"video/mp4\") {\r\n        return message.error(`${file.name} type de fichier non autorisé.`);\r\n      }\r\n      return file.type;\r\n    },\r\n    onChange(info) {\r\n      const { status } = info.file;\r\n      if (status !== \"uploading\") {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n      if (status === \"done\") {\r\n        message.success(`${info.file.name} fichier téléchargé avec succès.`);\r\n      } else if (status === \"error\") {\r\n        message.error(`${info.file.name} échec du téléchargement du fichier.`);\r\n      }\r\n    },\r\n\r\n    onRemove: (file) => {\r\n      if (file.name.indexOf(\".pdf\") > -1) {\r\n        const index = location.state.rowData.pdfUrl.indexOf(file);\r\n        console.log(index);\r\n        const newFileList = location.state.rowData.pdfUrl.slice();\r\n        location.state.rowData.pdfUrl.splice(index, 1);\r\n        console.log(newFileList.url);\r\n        setPdf(location.state.rowData.pdfUrl);\r\n        let pdfUrl = [...new Set(pdf)];\r\n        setVideo(location.state.rowData.videoUrl);\r\n        let videoUrl = [...new Set(video)];\r\n        axios.put(\r\n          `http://localhost:3001/api/course/${location.state.rowData._id}`,\r\n          pdfUrl,\r\n          videoUrl\r\n        );\r\n        return {\r\n          defaultfiles: newFileList,\r\n        };\r\n      } else {\r\n        const index = location.state.rowData.videoUrl.indexOf(file);\r\n        console.log(index);\r\n        const newFileList = location.state.rowData.videoUrl.slice();\r\n        location.state.rowData.videoUrl.splice(index, 1);\r\n        console.log(newFileList.url);\r\n        setVideo(location.state.rowData.videoUrl);\r\n        let videoUrl = [...new Set(video)];\r\n        let pdfUrl = [...new Set(pdf)];\r\n        setPdf(location.state.rowData.pdfUrl);\r\n        axios.put(\r\n          `http://localhost:3001/api/course/${location.state.rowData._id}`,\r\n          videoUrl,\r\n          pdfUrl\r\n        );\r\n        return {\r\n          defaultfiles: newFileList,\r\n        };\r\n      }\r\n    },\r\n\r\n    onChange: (info) => {\r\n      //file.status is empty when beforeUpload return false\r\n      updateFileList(info.fileList.filter((file) => !!file.status));\r\n      console.log(defaultfiles);\r\n      if (info.file.type === \"application/pdf\")\r\n        setPdf((fileList) => [\r\n          ...fileList,\r\n          info.file.name.toLowerCase().split(\" \").join(\"-\"),\r\n        ]);\r\n      else if (info.file.type === \"video/mp4\")\r\n        setVideo((fileList) => [\r\n          ...fileList,\r\n          info.file.name.toLowerCase().split(\" \").join(\"-\"),\r\n        ]);\r\n    },\r\n    defaultFileList: defaultfiles,\r\n    /*[\r\n    {\r\n      name: location.state.rowData.pdfUrl[0],\r\n      url: `https://alpha-school.herokuapp.com/uploads/${location.state.rowData.pdfUrl[0]}`,\r\n    },\r\n    \r\n    {\r\n      uid: \"2\",\r\n      name: location.state.rowData.videoUrl[0],\r\n      status: \"done\",\r\n      url: `https://alpha-school.herokuapp.com/uploads/${location.state.rowData.videoUrl[0]}`,\r\n    },\r\n  ],*/\r\n  };\r\n\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 4, span: 16 },\r\n  };\r\n\r\n  function handleChangeCourse(value) {\r\n    console.log(`selected ${value}`);\r\n    setChapterName(value[0]);\r\n  }\r\n\r\n  function handleChangeClasse(value) {\r\n    console.log(`selected ${value}`);\r\n    setClasse(value);\r\n  }\r\n\r\n  function handleChangeCourseName(value) {\r\n    console.log(`selected ${value}`);\r\n    setCourseName(value);\r\n    switch (value) {\r\n      case \"Physique\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/physique.svg\"\r\n        );\r\n        break;\r\n      case \"Chimie\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/chimie.svg\"\r\n        );\r\n        break;\r\n      case \"Base de donnée\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/bd.svg\"\r\n        );\r\n        break;\r\n      case \"algo\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/programmation.svg\"\r\n        );\r\n        break;\r\n      case \"arabe\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/arabe.svg\"\r\n        );\r\n        break;\r\n      case \"français\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/francais.svg\"\r\n        );\r\n        break;\r\n      case \"anglais\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/english.svg\"\r\n        );\r\n        break;\r\n      case \"math\":\r\n        setSvgUrl(\r\n          \"https://ta-storage.s3.amazonaws.com/prod/subjects_icons/maths.svg\"\r\n        );\r\n        break;\r\n    }\r\n  }\r\n\r\n  const layout = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 14 },\r\n  };\r\n\r\n  const chapitres = [];\r\n  data.map((chapitre) => {\r\n    chapitres.push(\r\n      <Option key={chapitre.chapterName}>{chapitre.chapterName}</Option>\r\n    );\r\n  });\r\n\r\n\r\n  const onClose = (e) => {\r\n    setInvalidForm(false)\r\n   };\r\n \r\n  return (\r\n    <div>\r\n      {invalidForm &&   <Alert style={{marginTop:20}}\r\n      message=\"Formulaire invalide\"\r\n      description=\"Veuillez remplir tous les champs.\"\r\n      type=\"error\"\r\n      showIcon\r\n      closable\r\n      onClose={onClose}\r\n      \r\n    />}\r\n    <Form\r\n    {...layout}\r\n    onSubmit={submit}\r\n    noValidate\r\n    labelCol={{\r\n      span: 4,\r\n    }}\r\n    wrapperCol={{\r\n      span: 25,\r\n    }}\r\n    size=\"large\"\r\n    layout=\"vertical\"\r\n    style={{ marginTop: 100 }}\r\n    initialValues={{\r\n      remember: true,\r\n    }}>\r\n      <Form.Item  label=\"Matière :\" >\r\n        <Select\r\n          onChange={handleChangeCourseName}\r\n          defaultValue={location.state.rowData.courseName}\r\n        >\r\n          <Option value=\"Physique\">Physique</Option>\r\n          <Option value=\"Chimie\">Chimie</Option>\r\n          {/* <option value=\"Base de donnée\">Base de donnée</option>\r\n          <option value=\"algo\">Algorithme</option>\r\n          <option value=\"technique\">Technique</option>\r\n          <option value=\"arabic\">Arabe</option>\r\n          <option value=\"français\">Français</option>\r\n          <option value=\"anglais\">English</option>\r\n          <option value=\"science\">Science</option>\r\n          <option value=\"mecanique\">Mecanique</option>\r\n          <option value=\"économie\">économie</option>\r\n          <option value=\"gestion\">Gestion</option>*/}\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item label=\"Classe :\" >\r\n        <Select\r\n          onChange={handleChangeClasse}\r\n          defaultValue={location.state.rowData.classe}\r\n        >\r\n          <Option value=\"1\">1 ère Secondaire</Option>\r\n          <Option value=\"2économie\">2 ème économie et serivce</Option>\r\n          <Option value=\"2Informatique\">2 ème Informatique</Option>\r\n          <Option value=\"2Science Exp\">2 ème Scientifique </Option>\r\n          <Option value=\"3Informatique\">3 ème Informatique</Option>\r\n          <Option value=\"3Mathématiques\">3 ème Mathématiques</Option>\r\n          <Option value=\"3Science Exp\">3 ème Science Exp</Option>\r\n          <Option value=\"3Techniques\">3 ème Techniques</Option>\r\n          <Option value=\"4économie\">Bac économie</Option>\r\n          <Option value=\"4Informatique\">Bac Informatique</Option>\r\n          <Option value=\"4Lettre\">Bac Lettre</Option>\r\n          <Option value=\"4mathématiques\">Bac Mathématiques</Option>\r\n          <Option value=\"4Science Exp\">Bac Science Exp</Option>\r\n        </Select>\r\n      </Form.Item>\r\n      <Form.Item label=\"Chapitre :\">\r\n        <Select\r\n          mode=\"tags\"\r\n         \r\n          placeholder=\"Chapitre\"\r\n          onChange={handleChangeCourse}\r\n          defaultValue={location.state.rowData.chapterName}\r\n        >\r\n          {chapitres}\r\n        </Select>\r\n      </Form.Item>\r\n      {/*<Select\r\n        defaultValue=\"Chapitre\"\r\n        style={{ width: 300 }}\r\n        onChange={handleChangeCourse}\r\n      >\r\n        <Option value=\"Le condensateur\">Le condensateur</Option>\r\n        <Option value=\"Dipole RC\">Dipole RC</Option>\r\n        <Option value=\"La Bobine\">La Bobine</Option>\r\n        <Option value=\"Le dipole RL\">Le dipole RL</Option>\r\n        <Option value=\"Les alcools\">Les alcools</Option>\r\n        <Option value=\"Mesure d'une quantité de la matière\">\r\n          Mesure d'une quantité de la matière\r\n        </Option>\r\n      </Select>*/}\r\n      <Form.Item label=\"Description :\">\r\n        <TextArea\r\n          rows={4}\r\n          placeholder=\"description\"\r\n          defaultValue={location.state.rowData.description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n      </Form.Item>\r\n      <Form.Item label=\"Modifier un fichier :\"> \r\n        <Upload {...addFiles}>\r\n          <Button icon={<FileAddOutlined />}>Ajouter un fichier</Button>\r\n        </Upload>\r\n      </Form.Item>\r\n      {/*<Upload {...addFiles}>\r\n        <Button style={{ marginTop: 20 }} icon={<UploadOutlined />}>\r\n          Ajouter un video\r\n        </Button>\r\n    </Upload>*/}\r\n      <Form.Item label=\"Modifier :\">\r\n        <Button htmlType=\"submit\" type=\"primary\" onClick={submit}>\r\n          Modifier\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateCourse;\r\n"]},"metadata":{},"sourceType":"module"}